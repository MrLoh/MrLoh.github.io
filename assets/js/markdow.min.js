$(function(){$("article .content > *").addClass(function(){var a=$(this).text().trim().match(/\{\..*\}$/);return a?(console.log(this),$(this).html($(this).html().trim().split(a[0]).join("")),classNames=a[0].trim().substring(1,a[0].length-1).split(/\W/g).join(" ").trim(),classNames):void 0}),$("article p img").after(function(){return classes=$(this).parent().attr("class"),""===$(this).parent().text().trim()?classes?$(this).unwrap().wrap('<figure class="'+classes+'"></figure>'):$(this).unwrap().wrap("<figure></figure>"):$(this).wrap('<figure class="left"></figure>'),"<figcaption>"+this.alt+"</figcaption>"});var a='<table class="highlighttable"><tbody><tr></tr></tbody></table>';$("article .highlight").wrap(a).before(function(){for(var a='<td class="linenos"><div class="linenodiv"><pre><code>',b=$(this).text().split(/\n/).length,c=1;b>c;c++)a+=c+"\n";return a+"</code></pre></div></td>"}).wrap('<td class="code"></td>'),$("article blockquote").append(function(){var a=$(this).find("a").last();return a.remove(),a}).children("a").wrap("<cite></cite>"),$("article a").not('[rel="footnote"], [rev="footnote"]').html(function(a,b){return b.replace(/ /g,"&nbsp;")}).attr("target","_blank"),$("article p code").html(function(){return $(this).text().split("/").join("/<wbr>")})});